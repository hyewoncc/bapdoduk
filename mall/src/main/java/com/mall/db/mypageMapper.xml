<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mypage">
  <select id="getUserinfo" resultType="com.mall.vo.mypage.MypageVo">
		select * from tb_member where mem_id = #{mem_id}
  </select>
  
  <select id="getMemberId" resultType="com.mall.vo.mypage.MypageVo">
  		select mem_id from tb_member where mem_id = #{mem_id}
  </select>
  
  <select id="getPwd" resultType="java.lang.String">
		SELECT mem_pwd FROM tb_member WHERE mem_id = #{mem_id}
  </select>
  
  <select id="getShipping" resultType="com.mall.vo.mypage.ShippingVo">
  		SELECT mem_zipcode,mem_address,mem_detailaddress FROM tb_member WHERE mem_id = #{mem_id}
  </select>

  <update id="updateEmail">
  		UPDATE tb_member SET mem_email = #{mem_email} WHERE mem_id = #{mem_id}
  </update>
  
  <update id="updatePhone">
  		UPDATE tb_member SET mem_phone = #{mem_phone} WHERE mem_id = #{mem_id}
  </update>
  
  <update id="updatePwd">
  		UPDATE tb_member SET mem_pwd = #{mem_pwd} WHERE mem_id = #{mem_id}
  </update>
  
  <delete id="deleteId">
  		DELETE tb_member WHERE mem_id = #{mem_id}
  </delete>  
    
  <select id="findMyInq" resultType="com.mall.vo.mypage.MyInqListVo">
  		SELECT cs_no,cs_title,cs_category_two,cs_regdate,cs_response
  		FROM tb_cs
  		WHERE cs_mem_id = #{cs_mem_id}
  </select>
   
   <select id="detailInq" resultType="com.mall.vo.mypage.MyInqDetailVo">
  		SELECT cs_no,cs_content,cs_category_one,cs_category_two,cs_regdate,cs_fname,cs_response,ans_title,ans_content,cs_mem_id
  		FROM tb_cs
  		INNER JOIN tb_cs_answer
		ON tb_cs.cs_mem_id = tb_cs_answer.ans_cs_mem_id
    	where cs_no = #{cs_no}
  </select> 
</mapper>